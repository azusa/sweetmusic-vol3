# TDDと品質指標の関係について

大局観的な回答はもうされていますので、ここではホワイトボックスよりのいわゆる「単体試験」をxUnitによって自動化した時に品質というものをどう捉えればいいか、という回答をしたいと思います。

もともと品質指標のようなメトリクスは条件をある程度揃えた時に比較の軸として機能しますから、ユニットテストによる自動化テストを導入した時に「バグが少なすぎる」「テストケースが多すぎる」という食い違いが起きるのは、よく起きる話です。

そもそもいわゆるコーディングを終わった後の単体試験において発生したバグを管理するのは、自動化されていないテストの環境では修正した後の回帰テストにコストがかかること、また少なからずリグレッション(デグレード)のリスクがあるため、品質指標を管理する必要があるからです。ですので、障害が何件発生して、何件残っていて、残障害がどれくらいありそうかという管理をするわけです。

もちろん、テストを自動化する場合も基本的な考えは変わりませんが、回帰テストのコストが大きく下がる、という点が大きく異なります。(テスト件数が積み上がってくると、テストケースの管理コストの問題が出てきますが、それは別の話です)なので、製造の早い段階から自動化されたテストを実行して、品質をモニタリングすることができます。

つまり、障害の数を管理するのではなく、障害を早い段階に少ないコストでつぶすことができるように、アーキテクチャーをコントロールすること(例えば、全てのコンポーネントが揃わないとxUnitによるテストが実行できないような状況を避ける)、プロジェクトをマネジメントすることが、品質管理の主眼となってきます。

なので、Jenkins等のCI(継続インテグレーション)において、テストの件数の増減、リグレッションの発生頻度、カバレッジ等をモニタリングするのが効果的でしょう。

また、テスト対象(実装)にあわせてテストを実装してしまうという点を心配しているのであれば、テストファーストのアプローチが有効でしょう。xUnitに開発者が不慣れだというのであれば、テストコードのコードレビューも必要になってくるかもしれません。